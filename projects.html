<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Projects - Arkara</title>
  <link rel="stylesheet" href="assets/css/projects.css">
  <style>
    /* Jika tidak ingin file CSS terpisah, style ini bisa langsung dipakai */
    * {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: #f7f8fa;
      margin: 15px;
      color: #333;
    }

    h2 {
      font-size: 22px;
      margin-bottom: 15px;
      color: #333;
      font-weight: 600;
    }

    .add-button {
      display: inline-block;
      background: linear-gradient(90deg, #7ac142, #a5d86f);
      color: #fff;
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: background 0.3s ease;
      border: none;
      cursor: pointer;
      font-size: 14px;
      margin-bottom: 15px;
    }

    .add-button:hover {
      background: linear-gradient(90deg, #6ab13b, #96c85e);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      position: relative;
    }

    thead {
      background: linear-gradient(90deg, #b6d7a8, #a9d18e);
    }

    th {
      text-align: left;
      padding: 12px 14px;
      font-weight: 600;
      font-size: 14px;
      border-bottom: 2px solid #e5e5e5;
    }

    td {
      padding: 10px 14px;
      font-size: 14px;
      border-bottom: 1px solid #eee;
      background: #fff;
      transition: background 0.3s ease;
      position: relative;
      cursor: pointer;
    }

    tr:hover td {
      background: #eaf5e3 !important;
    }

    /* Progress bar */
    .progress-bar {
      background: #e4f1e1;
      border-radius: 8px;
      height: 10px;
      width: 100%;
      overflow: hidden;
    }

    .progress-fill {
      background: linear-gradient(90deg, #7ac142, #a5d86f);
      height: 100%;
      width: 0%;
      border-radius: 8px;
      transition: width 0.6s ease;
    }

    /* Responsive */
    @media (max-width: 768px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }
      tr {
        margin-bottom: 15px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      }
      th { display: none; }
      td {
        border: none;
        padding-left: 30%;
      }
      td:before {
        content: attr(data-label);
        position: absolute;
        left: 15px;
        font-weight: 600;
        color: #555;
      }
    }
  </style>
</head>
<body>

  <div class="table-container">
    <button class="add-button" onclick="addData()">(+) Add Data</button>

    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>Tanggal</th>
          <th>Lokasi</th>
          <th>Perusahaan</th>
          <th>Sektor</th>
          <th>Tipe</th>
          <th>Dokumen Update</th>
          <th>Dokumen Status</th>
          <th>Notes / Next Action</th>
          <th>Progress</th>
        </tr>
      </thead>
      <tbody id="projectTable"></tbody>
    </table>
  </div>

  <script>
    const tbody = document.getElementById("projectTable");

    const projects = [
      { no: 1, lokasi: "Jakarta", perusahaan: "PT Alpha", sektor: "Property", tipe: "Joint Venture", start: "2025-01-05", upload: "Ada", status: "Approved", notes: "Survey lokasi", progress: 80 },
      { no: 2, lokasi: "Bandung", perusahaan: "CV Beta", sektor: "Mining", tipe: "Take Over", start: "2025-02-12", upload: "Belum", status: "Pending", notes: "Negosiasi harga", progress: 50 },
      { no: 3, lokasi: "Medan", perusahaan: "PT Gamma", sektor: "Plantation", tipe: "Partnership", start: "2025-03-01", upload: "Ada", status: "On Progress", notes: "Menunggu legalitas", progress: 30 },
      { no: 4, lokasi: "Surabaya", perusahaan: "PT Delta", sektor: "Hospitality", tipe: "Joint Venture", start: "2025-04-10", upload: "Ada", status: "Completed", notes: "Selesai", progress: 100 },
    ];

    /**
     * Fungsi untuk mengubah format tanggal dari YYYY-MM-DD menjadi DD / MM / YYYY
     * @param {string} dateString - Tanggal dalam format YYYY-MM-DD
     * @returns {string} Tanggal dalam format DD / MM / YYYY
     */
    function formatDate(dateString) {
        if (!dateString) return '';
        // Membagi string berdasarkan '-' (misal: ["2025", "01", "05"])
        const parts = dateString.split('-');
        // Menggabungkan kembali dalam urutan Hari / Bulan / Tahun
        return `${parts[2]} / ${parts[1]} / ${parts[0]}`;
    }

    projects.forEach(p => {
      const formattedDate = formatDate(p.start); // Panggil fungsi formatDate
      
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td data-label="No">${p.no}</td>
        <td data-label="Tanggal">${formattedDate}</td> <td data-label="Lokasi">${p.lokasi}</td>
        <td data-label="Perusahaan">${p.perusahaan}</td>
        <td data-label="Sektor">${p.sektor}</td>
        <td data-label="Tipe">${p.tipe}</td>
        <td data-label="Dokumen Update">${p.upload}</td>
        <td data-label="Dokumen Status">${p.status}</td>
        <td data-label="Notes / Next Action">${p.notes}</td>
        <td data-label="Progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: ${p.progress}%;"></div>
          </div>
        </td>
      `;
      tr.addEventListener("click", () => {
        // Arahkan ke halaman edit
        window.location.href = `edit_project.html?id=${p.no}`;
      });
      tbody.appendChild(tr);
    });

    function addData() {
      alert("Fungsi tambah data belum diimplementasikan.");
    }
  </script>

</body>
</html>